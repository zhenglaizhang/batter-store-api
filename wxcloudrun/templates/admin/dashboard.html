{% extends "admin/base.html" %}

{% block title %}ç®¡ç†åå°é¦–é¡µ - ç”µæ± å›æ”¶ç®¡ç†åå°{% endblock %}

{% block extra_css %}
<style>
    .dashboard-header {
        margin-bottom: 24px;
    }
    .dashboard-title {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 8px;
    }
    .dashboard-subtitle {
        color: #666;
        font-size: 14px;
    }
    .quick-actions {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 16px;
        margin-bottom: 24px;
    }
    .action-card {
        padding: 24px;
        background: #fff;
        border: 1px solid #e8e8e8;
        border-radius: 8px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
    }
    .action-card:hover {
        border-color: #1890ff;
        box-shadow: 0 2px 8px rgba(24, 144, 255, 0.2);
    }
    .action-icon {
        font-size: 48px;
        margin-bottom: 16px;
    }
    .action-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 8px;
    }
    .action-desc {
        color: #666;
        font-size: 14px;
    }
</style>
{% endblock %}

{% block content %}
<div class="dashboard-header">
    <h1 class="dashboard-title">æ¬¢è¿ä½¿ç”¨ç®¡ç†åå°</h1>
    <p class="dashboard-subtitle">ç”µæ± å›æ”¶å¹³å°ç®¡ç†ç³»ç»Ÿ</p>
</div>

<div class="quick-actions">
    <div class="action-card" onclick="window.location.href='/admin/user-review'">
        <div class="action-icon">ğŸ‘¥</div>
        <div class="action-title">ç”¨æˆ·æ³¨å†Œç®¡ç†</div>
        <div class="action-desc">å®¡æ ¸ç”¨æˆ·æ³¨å†Œç”³è¯·</div>
    </div>
    <div class="action-card" onclick="window.location.href='/admin/order-tracking'">
        <div class="action-icon">ğŸ“¦</div>
        <div class="action-title">ç”µæ± è®¢å•ç®¡ç†</div>
        <div class="action-desc">æŸ¥çœ‹å’Œç®¡ç†ç”µæ± è®¢å•</div>
    </div>
</div>

<div style="padding: 24px; background: #f5f5f5; border-radius: 8px;">
    <h2 style="margin-bottom: 16px; font-size: 18px;">ç³»ç»Ÿä¿¡æ¯</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
        <div>
            <div style="color: #666; font-size: 14px; margin-bottom: 4px;">å½“å‰ç”¨æˆ·</div>
            <div style="font-size: 16px; font-weight: 600;" id="current-user">åŠ è½½ä¸­...</div>
        </div>
        <div>
            <div style="color: #666; font-size: 14px; margin-bottom: 4px;">ç™»å½•æ—¶é—´</div>
            <div style="font-size: 16px; font-weight: 600;" id="login-time">-</div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// æ˜¾ç¤ºå½“å‰ç”¨æˆ·ä¿¡æ¯
const adminInfo = localStorage.getItem('admin_info');
if (adminInfo) {
    try {
        const admin = JSON.parse(adminInfo);
        document.getElementById('current-user').textContent = admin.username || 'ç®¡ç†å‘˜';
    } catch (e) {
        document.getElementById('current-user').textContent = 'ç®¡ç†å‘˜';
    }
} else {
    document.getElementById('current-user').textContent = 'æœªç™»å½•';
}

// æ˜¾ç¤ºç™»å½•æ—¶é—´
const now = new Date();
document.getElementById('login-time').textContent = now.toLocaleString('zh-CN');

// æ£€æŸ¥è®¤è¯
if (!checkAuth()) {
    window.location.href = '/admin/login';
}
</script>
{% endblock %}

